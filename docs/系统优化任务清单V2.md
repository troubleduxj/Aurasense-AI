
# AuraSense AI 系统优化任务清单 V2.0

**基于 Datart 对比分析报告**

## 1. 战略定位与目标
*   **当前定位**: 垂直领域的 IoT 设备监控系统，优势在于业务逻辑封装（设备/分类/诊断）。
*   **演进目标**: 吸纳通用 BI (如 Datart) 的**深度配置能力**，同时强化 **IoT 实时与可视化** 特色，打造“既专业又灵活”的工业物联网 OS。

---

## 2. 核心差距弥补任务 (Core Gap Closing)

### 🎨 可视化深度配置 (Visualization Depth) - **高优先级**
目前 AuraSense 图表样式较为死板，缺乏专业 BI 的精细度。

*   **[V2-1] 数值与日期格式化 (Formatters)** ✅ **已完成**
    *   **目标**: 支持 Excel 风格的格式化字符串。
    *   **功能**: 千分位、百分比、单位后缀 (K/M/B/T)。
    *   **状态**: 已在 `ChartLabPage` 和 `RenderChart` 中实现。

*   **[V2-2] 阈值告警与条件格式 (Thresholds & Conditional Formatting)** ✅ **已完成**
    *   **目标**: 让数据“说话”，自动标识异常。
    *   **功能**: 规则配置 (Value > 80 -> Red)，支持 Bar/KPI/Table。
    *   **状态**: 已实现 ThresholdRule 逻辑。

*   **[V2-3] 辅助线与参考区 (Reference Lines/Areas)** ✅ **已完成**
    *   **目标**: 提供分析基准。
    *   **功能**: 支持静态值 (Constant) 及动态值 (Avg/Max/Min) 参考线。
    *   **状态**: 已集成至 ECharts `markLine`。

### 🧩 看板布局与组件 (Dashboard Layout) - **中优先级**
Datart 的看板编辑器更像 PPT，目前 AuraSense 的网格布局较为受限。

*   **[V2-4] 自由网格布局 (Free Grid Layout)** ✅ **已完成**
    *   **目标**: 支持拖拽、缩放、重叠。
    *   **实现**: 已引入 `react-grid-layout`。

*   **[V2-5] 容器组件 (Containers)**
    *   **目标**: 提高屏幕空间利用率。
    *   **功能**: Tab 容器、轮播容器。

*   **[V2-6] 媒体与文本组件 (Rich Media)** ✅ **已完成**
    *   **目标**: 增强看板的叙事能力。
    *   **功能**: 添加富文本组件 (Text) 和图片组件 (Image)，支持字体/对齐/背景配置。
    *   **状态**: 已实现 Text/Image 渲染器及配置面板。

### ⚙️ 数据引擎增强 (Data Engine) - **高技术难度**
这是与专业 BI 最大的技术差距。

*   **[V2-7] 前端 SQL 引擎与多表关联**
    *   **目标**: 摆脱对后端宽表的强依赖，实现前端灵活建模。
    *   **实现**: 引入 `Alasql`，支持 Join。

*   **[V2-8] 时间窗口计算 (Time-Series Functions)** ✅ **已完成**
    *   **目标**: 针对 IoT 时序数据的深度分析。
    *   **功能**: 实现 `MovingAverage` (移动平均), `TimeShift` (同比/环比)。
    *   **状态**: 已在 `RenderChart` 中实现移动平均趋势线 (MA) 计算与叠加显示。

---

## 3. IoT 垂直领域特色任务 (IoT Specific Features)

这是 Datart 可能不具备，但对 AuraSense 至关重要的功能。

*   **[IoT-1] 组态拓扑图编辑器 (SCADA Topology)** ✅ **已完成**
    *   **描述**: 基于 Canvas/SVG 的拖拽式编辑器。
    *   **场景**: 工厂流水线绘制，支持数据绑定。

*   **[IoT-2] WebSocket 实时流式刷新**
    *   **描述**: 替换目前的轮询 (Polling) 机制。
    *   **场景**: 毫秒级振动波形监控。

*   **[IoT-3] 3D 数字孪生 (Digital Twin)**
    *   **描述**: 引入 Three.js 或 ECharts-GL。
    *   **场景**: 展示设备 3D 模型。

---

## 4. 执行路线图 (Roadmap Phase 2)

**当前进度**: Step 1 (视觉升级) 与 Step 2 (布局重构) 已基本完成，Step 3 (数据分析) 已启动。

**下一步建议**:
1.  **交互层**: 考虑实现 **[V2-5] 容器组件**，提升看板的空间利用率。
2.  **IoT层**: 考虑实现 **[IoT-2] WebSocket** 模拟，增强实时感。

---
*Updated by AuraSense Architect Team*
